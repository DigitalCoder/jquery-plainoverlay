!function(t,i){"use strict";function r(r,e,o){var s=this,n=r.get(0);s.duration=e.duration,s.opacity=e.opacity,s.isShown=!1,s.jqTargetOrg=r,t.isWindow(n)||9===n.nodeType?s.jqTarget=t("body"):"iframe"===n.nodeName.toLowerCase()||"frame"===n.nodeName.toLowerCase()?(s.jqWin=t(n.contentWindow),s.elmDoc=n.contentWindow.document,s.jqTarget=t("body",s.elmDoc),s.isFrame=!0):s.jqTarget=r,s.jqWin=s.jqWin||t(window),s.elmDoc=s.elmDoc||document,s.isBody="body"===s.jqTarget.get(0).nodeName.toLowerCase(),o&&(o.jqProgress&&(o.timer&&clearTimeout(o.timer),o.jqProgress.remove(),delete o.jqProgress),o.reset(!0),o.jqOverlay.stop()),s.jqOverlay=(o&&o.jqOverlay||t('<div class="plainoverlay" />').css({position:s.isBody?"fixed":"absolute",left:0,top:0,display:"none",cursor:"wait"}).appendTo(s.jqTarget)).css({backgroundColor:e.fillColor,zIndex:e.zIndex}),(s.jqProgress=e.progress===!1?i:"function"==typeof e.progress?e.progress.call(s.jqTarget,e):a(s))&&s.jqProgress.css({position:s.isBody?"fixed":"absolute",display:"none",zIndex:e.zIndex+1,cursor:"wait"}).appendTo(s.jqTarget),s.callAdjust=function(t){return t.adjustProgress?function(){t.adjustProgress(),t.adjust()}:function(){t.adjust()}}(s),s.avoidFocus=function(i){return function(r){return t(i.elmDoc.activeElement).blur(),r.preventDefault(),!1}}(s),s.avoidScroll=function(t){return function(i){return function(i){i.scrollLeft(t.scrLeft).scrollTop(t.scrTop)}(t.isBody?t.jqWin:t.jqTarget),i.preventDefault(),!1}}(s),o&&(o.timer&&clearTimeout(o.timer),o=i)}function e(i,e){var o=t.extend({duration:200,opacity:.6,zIndex:9e3},e);return o.fillColor=e.fillColor||e.color||"#888",i.each(function(){var i=t(this);i.data(n,new r(i,o,i.data(n))),"function"==typeof o.show&&i.on("plainoverlayshow",o.show),"function"==typeof o.hide&&i.on("plainoverlayhide",o.hide)})}function o(i,r){return i.each(function(){var i,o=t(this);(r||!(i=o.data(n)))&&(i=e(o,r).data(n)),i.show()})}function s(i){return i.each(function(){var i=t(this).data(n);i&&i.hide()})}var n="plainOverlay",a=function(){function r(i,r,e,o){return o="undefined"==typeof o?";":o,t.map(i,function(i){return t.map(r,function(t){return(e||"")+t+i}).join(o)}).join(o)}var e,o="jQuery-"+n,s=["-webkit-","-moz-","-ms-","-o-",""],a=o+"-progress",d="."+a+"{"+r(["box-sizing:border-box"],["-webkit-","-moz-",""])+";width:100%;height:100%;border-top:3px solid #17f29b;"+r(["border-radius:50%"],s)+";-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);box-shadow:0 0 1px rgba(0,0,0,0);"+r(["animation-name:"+o+"-spin","animation-duration:1s","animation-timing-function:linear","animation-iteration-count:infinite"],s)+"}"+r(["keyframes "+o+"-spin{from{"+r(["transform:rotate(0deg)"],s)+"}to{"+r(["transform:rotate(360deg)"],s)+"}}"],s,"@","")+"."+a+"-legacy{width:100%;height:50%;padding-top:25%;text-align:center;white-space:nowrap;*zoom:1}."+a+"-legacy:after,."+a+'-legacy:before{content:" ";display:table}.'+a+"-legacy:after{clear:both}."+a+"-legacy div{width:18%;height:100%;margin:0 1%;background-color:#17f29b;float:left;visibility:hidden}."+a+"-1 div."+a+"-1,."+a+"-2 div."+a+"-1,."+a+"-2 div."+a+"-2,."+a+"-3 div."+a+"-1,."+a+"-3 div."+a+"-2,."+a+"-3 div."+a+"-3{visibility:visible}",g=function(){var t=Math.min(300,.9*(this.isBody?Math.min(this.jqWin.width(),this.jqWin.height()):Math.min(this.jqTarget.innerWidth(),this.jqTarget.innerHeight())));this.jqProgress.width(t).height(t),this.showProgress||this.jqProgress.children("."+a).css("borderTopWidth",Math.max(3,t/30))},c=function(t){var i=this;i.timer&&clearTimeout(i.timer),i.progressCnt&&i.jqProgress.removeClass(a+"-"+i.progressCnt),i.isShown&&(i.progressCnt=!t&&i.progressCnt<3?i.progressCnt+1:0,i.progressCnt&&i.jqProgress.addClass(a+"-"+i.progressCnt),i.timer=setTimeout(function(){i.showProgress()},500))};return function(r){var s,n;return"boolean"!=typeof e&&(e=function(){function t(t,i){return typeof t===i}function r(t,i){return!!~(""+t).indexOf(i)}function e(t){var e;for(e in t)if(!r(t[e],"-")&&d[t[e]]!==i)return!0;return!1}function o(t){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+c.join(i+" ")+i).split(" ");return e(r)}var s,n,a=document.createElement("modernizr"),d=a.style,g="Webkit Moz O ms",c=g.split(" "),h={},l={}.hasOwnProperty,u=t(l,"undefined")||t(l.call,"undefined")?function(i,r){return r in i&&t(i.constructor.prototype[r],"undefined")}:function(t,i){return l.call(t,i)};h.borderradius=function(){return o("borderRadius")},h.cssanimations=function(){return o("animationName")},h.csstransforms=function(){return!!o("transform")},s=!1;for(n in h)if(u(h,n)&&!h[n]()){s=!0;break}return d.cssText="",a=null,s}()),r.elmDoc.getElementById(o)||(r.elmDoc.createStyleSheet?(n=r.elmDoc.createStyleSheet(),n.owningElement.id=o,n.cssText=d):(n=(r.elmDoc.getElementsByTagName("head")[0]||r.elmDoc.documentElement).appendChild(r.elmDoc.createElement("style")),n.type="text/css",n.id=o,n.textContent=d)),e?(s=t('<div><div class="'+a+'-legacy"><div class="'+a+'-3" /><div class="'+a+'-2" /><div class="'+a+'-1" /><div class="'+a+'-2" /><div class="'+a+'-3" /></div></div>'),r.showProgress=c):s=t('<div><div class="'+a+'" /></div>'),r.adjustProgress=g,s}}();r.prototype.show=function(){var r,e,o,s,n,a=this;a.reset(!0),r=a.jqTarget.get(0).style,a.orgPosition=r.position,e=a.jqTarget.css("position"),"relative"!==e&&"absolute"!==e&&"fixed"!==e&&a.jqTarget.css("position","relative"),a.orgOverflow=r.overflow,o=a.jqTarget.prop("clientWidth"),s=a.jqTarget.prop("clientHeight"),a.jqTarget.css("overflow","hidden"),o-=a.jqTarget.prop("clientWidth"),s-=a.jqTarget.prop("clientHeight"),a.addMarginR=a.addMarginB=0,0>o&&(a.addMarginR=-o),0>s&&(a.addMarginB=-s),a.isBody?(a.addMarginR&&(a.orgMarginR=r.marginRight,a.jqTarget.css("marginRight","+="+a.addMarginR)),a.addMarginB&&(a.orgMarginB=r.marginBottom,a.jqTarget.css("marginBottom","+="+a.addMarginB))):(a.addMarginR&&(a.orgMarginR=r.paddingRight,a.orgWidth=r.width),a.addMarginB&&(a.orgMarginB=r.paddingBottom,a.orgHeight=r.height)),a.jqActive=i,n=t(a.elmDoc.activeElement),a.isBody&&!a.isFrame?a.jqActive=n.blur():a.jqTarget.has(n.get(0)).length&&n.blur(),a.jqTarget.focusin(a.avoidFocus),function(t){a.scrLeft=t.scrollLeft(),a.scrTop=t.scrollTop(),t.scroll(a.avoidScroll)}(a.isBody?a.jqWin:a.jqTarget),a.jqWin.resize(a.callAdjust),a.callAdjust(),a.isShown=!0,a.jqOverlay.stop().fadeTo(a.duration,a.opacity,function(){a.jqTargetOrg.trigger("plainoverlayshow")}),a.jqProgress&&(a.showProgress&&a.showProgress(!0),a.jqProgress.fadeIn(a.duration))},r.prototype.hide=function(){var t=this;t.isShown&&(t.jqOverlay.stop().fadeOut(t.duration,function(){t.reset(),t.jqTargetOrg.trigger("plainoverlayhide")}),t.jqProgress&&t.jqProgress.fadeOut(t.duration))},r.prototype.adjust=function(){var t,i;this.isBody?(t=this.jqWin.width(),i=this.jqWin.height(),this.jqOverlay.width(t).height(i),this.jqProgress&&this.jqProgress.css({left:(t-this.jqProgress.outerWidth())/2,top:(i-this.jqProgress.outerHeight())/2})):(this.addMarginR&&(t=this.jqTarget.css({paddingRight:this.orgMarginR,width:this.orgWidth}).width(),this.jqTarget.css("paddingRight","+="+this.addMarginR).width(t-this.addMarginR)),this.addMarginB&&(i=this.jqTarget.css({paddingBottom:this.orgMarginB,height:this.orgHeight}).height(),this.jqTarget.css("paddingBottom","+="+this.addMarginB).height(i-this.addMarginB)),t=Math.max(this.jqTarget.prop("scrollWidth"),this.jqTarget.innerWidth()),i=Math.max(this.jqTarget.prop("scrollHeight"),this.jqTarget.innerHeight()),this.jqOverlay.width(t).height(i),this.jqProgress&&(t=this.jqTarget.innerWidth(),i=this.jqTarget.innerHeight(),this.jqProgress.css({left:(t-this.jqProgress.outerWidth())/2+this.scrLeft,top:(i-this.jqProgress.outerHeight())/2+this.scrTop})))},r.prototype.reset=function(t){var i=this;t&&(i.jqOverlay.css("display","none"),i.jqProgress&&i.jqProgress.css("display","none")),i.isShown&&(i.jqTarget.css({position:i.orgPosition,overflow:i.orgOverflow}),i.isBody?(i.addMarginR&&i.jqTarget.css("marginRight",i.orgMarginR),i.addMarginB&&i.jqTarget.css("marginBottom",i.orgMarginB)):(i.addMarginR&&i.jqTarget.css({paddingRight:i.orgMarginR,width:i.orgWidth}),i.addMarginB&&i.jqTarget.css({paddingBottom:i.orgMarginB,height:i.orgHeight})),i.jqTarget.off("focusin",i.avoidFocus),i.jqActive&&i.jqActive.length&&i.jqActive.focus(),function(t){t.off("scroll",i.avoidScroll).scrollLeft(i.scrLeft).scrollTop(i.scrTop)}(i.isBody?i.jqWin:i.jqTarget),i.jqWin.off("resize",i.callAdjust),i.isShown=!1)},t.fn[n]=function(t,i){return"show"===t?o(this,i):"hide"===t?s(this):e(this,t)}}(jQuery);