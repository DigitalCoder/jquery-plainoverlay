!function(t,r){"use strict";function e(e,i,o){var s=this,a=e.get(0);s.duration=i.duration,s.opacity=i.opacity,s.isShown=!1,t.isWindow(a)||9===a.nodeType?s.jqTarget=t("body"):"iframe"===a.nodeName.toLowerCase()||"frame"===a.nodeName.toLowerCase()?(s.jqWin=t(a.contentWindow),s.elmDoc=a.contentWindow.document,s.jqTarget=t("body",s.elmDoc),s.isFrame=!0):s.jqTarget=e,s.jqWin=s.jqWin||t(window),s.elmDoc=s.elmDoc||document,s.isBody="body"===s.jqTarget.get(0).nodeName.toLowerCase(),o&&(o.jqProgress&&(o.timer&&clearTimeout(o.timer),o.jqProgress.remove(),delete o.jqProgress),o.reset(!0),o.jqOverlay.stop()),s.jqOverlay=(o&&o.jqOverlay||t("<div />").css({position:s.isBody?"fixed":"absolute",left:0,top:0,display:"none",zIndex:9e3}).appendTo(s.jqTarget)).css("backgroundColor",i.color),(s.jqProgress=i.progress===!1?r:"function"==typeof i.progress?i.progress.call(s.jqTarget,i):n(s))&&s.jqProgress.css({position:s.isBody?"fixed":"absolute",display:"none",zIndex:9001}).appendTo(s.jqTarget),s.callAdjust=function(t){return t.adjustProgress?function(){t.adjustProgress(),t.adjust()}:function(){t.adjust()}}(s),s.avoidFocus=function(r){return function(e){return t(r.elmDoc.activeElement).blur(),e.preventDefault(),!1}}(s),s.avoidScroll=function(t){return function(r){return function(r){r.scrollLeft(t.scrLeft).scrollTop(t.scrTop)}(t.isBody?t.jqWin:t.jqTarget),r.preventDefault(),!1}}(s),o&&(o.timer&&clearTimeout(o.timer),o=r)}function i(r,i){var o=t.extend({duration:200,color:"#000",opacity:.3},i);return r.each(function(){var r=t(this);r.data("plainOverlay",new e(r,o,r.data("plainOverlay")))})}function o(r,e){return r.each(function(){var r,o=t(this);(e||!(r=o.data("plainOverlay")))&&(r=i(o,e).data("plainOverlay")),r.show()})}function s(r){return r.each(function(){var r=t(this).data("plainOverlay");r&&r.hide()})}var n=function(){function e(r,e,i,o){return o="undefined"==typeof o?";":"",t.map(r,function(r){return t.map(e,function(t){return(i||"")+t+r}).join(o)}).join(o)}var i,o=["-webkit-","-moz-","-ms-","-o-",""],s="jQuery-plainOverlay-progress",n="."+s+"{"+e(["box-sizing:border-box"],["-webkit-","-moz-",""])+";width:100%;height:100%;border-top:3px solid #17f29b;"+e(["border-radius:50%"],o)+";-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);box-shadow:0 0 1px rgba(0,0,0,0);"+e(["animation-name:jQuery-plainOverlay-spin","animation-duration:1s","animation-timing-function:linear","animation-iteration-count:infinite"],o)+"}"+e(["keyframes jQuery-plainOverlay-spin{from{"+e(["transform:rotate(0deg)"],o)+"}to{"+e(["transform:rotate(360deg)"],o)+"}}"],o,"@","")+"."+s+"-legacy{width:100%;height:50%;padding-top:25%;text-align:center;white-space:nowrap;*zoom:1}."+s+"-legacy:after,."+s+'-legacy:before{content:" ";display:table}.'+s+"-legacy:after{clear:both}."+s+"-legacy div{width:18%;height:100%;margin:0 1%;background-color:#17f29b;float:left;visibility:hidden}."+s+"-1 div."+s+"-1,."+s+"-2 div."+s+"-1,."+s+"-2 div."+s+"-2,."+s+"-3 div."+s+"-1,."+s+"-3 div."+s+"-2,."+s+"-3 div."+s+"-3{visibility:visible}",a=function(){var t=Math.min(300,.9*(this.isBody?Math.min(this.jqWin.width(),this.jqWin.height()):Math.min(this.jqTarget.innerWidth(),this.jqTarget.innerHeight())));this.jqProgress.width(t).height(t),this.showProgress||this.jqProgress.children("."+s).css("borderTopWidth",Math.max(3,t/30))},d=function(t){var r=this;r.timer&&clearTimeout(r.timer),r.progressCnt&&r.jqProgress.removeClass(s+"-"+r.progressCnt),r.isShown&&(r.progressCnt=!t&&r.progressCnt<3?r.progressCnt+1:0,r.progressCnt&&r.jqProgress.addClass(s+"-"+r.progressCnt),r.timer=setTimeout(function(){r.showProgress()},500))};return function(e){var o,g;return"boolean"!=typeof i&&(i=function(){function t(t,r){return typeof t===r}function e(t,r){return!!~(""+t).indexOf(r)}function i(t){var i;for(i in t)if(!e(t[i],"-")&&d[t[i]]!==r)return!0;return!1}function o(t){var r=t.charAt(0).toUpperCase()+t.slice(1),e=(t+" "+c.join(r+" ")+r).split(" ");return i(e)}var s,n,a=document.createElement("modernizr"),d=a.style,g="Webkit Moz O ms",c=g.split(" "),h={},l={}.hasOwnProperty,u=t(l,"undefined")||t(l.call,"undefined")?function(r,e){return e in r&&t(r.constructor.prototype[e],"undefined")}:function(t,r){return l.call(t,r)};h.borderradius=function(){return o("borderRadius")},h.cssanimations=function(){return o("animationName")},h.csstransforms=function(){return!!o("transform")},s=!1;for(n in h)if(u(h,n)&&!h[n]()){s=!0;break}return d.cssText="",a=null,s}()),e.elmDoc.getElementById("jQuery-plainOverlay")||(e.elmDoc.createStyleSheet?(g=e.elmDoc.createStyleSheet(),g.owningElement.id="jQuery-plainOverlay",g.cssText=n):(g=(e.elmDoc.getElementsByTagName("head")[0]||e.elmDoc.documentElement).appendChild(e.elmDoc.createElement("style")),g.type="text/css",g.id="jQuery-plainOverlay",g.textContent=n)),i?(o=t('<div><div class="'+s+'-legacy"><div class="'+s+'-3" /><div class="'+s+'-2" /><div class="'+s+'-1" /><div class="'+s+'-2" /><div class="'+s+'-3" /></div></div>'),e.showProgress=d):o=t('<div><div class="'+s+'" /></div>'),e.adjustProgress=a,o}}();e.prototype.show=function(){var e,i,o,s,n,a=this;a.reset(!0),e=a.jqTarget.get(0).style,a.orgPosition=e.position,i=a.jqTarget.css("position"),"relative"!==i&&"absolute"!==i&&"fixed"!==i&&a.jqTarget.css("position","relative"),a.orgOverflow=e.overflow,o=a.jqTarget.prop("clientWidth"),s=a.jqTarget.prop("clientHeight"),a.jqTarget.css("overflow","hidden"),o-=a.jqTarget.prop("clientWidth"),s-=a.jqTarget.prop("clientHeight"),a.addMarginR=a.addMarginB=0,0>o&&(a.addMarginR=-o),0>s&&(a.addMarginB=-s),a.isBody?(a.addMarginR&&(a.orgMarginR=e.marginRight,a.jqTarget.css("marginRight","+="+a.addMarginR)),a.addMarginB&&(a.orgMarginB=e.marginBottom,a.jqTarget.css("marginBottom","+="+a.addMarginB))):(a.addMarginR&&(a.orgMarginR=e.paddingRight,a.orgWidth=e.width),a.addMarginB&&(a.orgMarginB=e.paddingBottom,a.orgHeight=e.height)),a.jqActive=r,n=t(a.elmDoc.activeElement),a.isBody&&!a.isFrame?a.jqActive=n.blur():a.jqTarget.has(n.get(0)).length&&n.blur(),a.jqTarget.focusin(a.avoidFocus),function(t){a.scrLeft=t.scrollLeft(),a.scrTop=t.scrollTop(),t.scroll(a.avoidScroll)}(a.isBody?a.jqWin:a.jqTarget),a.jqWin.resize(a.callAdjust),a.callAdjust(),a.isShown=!0,a.jqOverlay.stop().fadeTo(a.duration,a.opacity),a.jqProgress&&(a.showProgress&&a.showProgress(!0),a.jqProgress.fadeIn(a.duration))},e.prototype.hide=function(){var t=this;t.isShown&&(t.jqOverlay.stop().fadeOut(t.duration,function(){t.reset()}),t.jqProgress&&t.jqProgress.fadeOut(t.duration))},e.prototype.adjust=function(){var t,r;this.isBody?(t=this.jqWin.width(),r=this.jqWin.height(),this.jqOverlay.width(t).height(r),this.jqProgress&&this.jqProgress.css({left:(t-this.jqProgress.outerWidth())/2,top:(r-this.jqProgress.outerHeight())/2})):(this.addMarginR&&(this.jqTarget.css("paddingRight",this.orgMarginR),this.jqTarget.css("width",this.orgWidth),t=this.jqTarget.width(),this.jqTarget.css("paddingRight","+="+this.addMarginR).width(t-this.addMarginR)),this.addMarginB&&(this.jqTarget.css("paddingBottom",this.orgMarginB),this.jqTarget.css("height",this.orgHeight),r=this.jqTarget.height(),this.jqTarget.css("paddingBottom","+="+this.addMarginB).height(r-this.addMarginB)),t=Math.max(this.jqTarget.prop("scrollWidth"),this.jqTarget.innerWidth()),r=Math.max(this.jqTarget.prop("scrollHeight"),this.jqTarget.innerHeight()),this.jqOverlay.width(t).height(r),this.jqProgress&&(t=this.jqTarget.innerWidth(),r=this.jqTarget.innerHeight(),this.jqProgress.css({left:(t-this.jqProgress.outerWidth())/2+this.scrLeft,top:(r-this.jqProgress.outerHeight())/2+this.scrTop})))},e.prototype.reset=function(t){var r=this;t&&(r.jqOverlay.css("display","none"),r.jqProgress&&r.jqProgress.css("display","none")),r.isShown&&(r.jqTarget.css("position",r.orgPosition),r.jqTarget.css("overflow",r.orgOverflow),r.isBody?(r.addMarginR&&r.jqTarget.css("marginRight",r.orgMarginR),r.addMarginB&&r.jqTarget.css("marginBottom",r.orgMarginB)):(r.addMarginR&&(r.jqTarget.css("paddingRight",r.orgMarginR),r.jqTarget.css("width",r.orgWidth)),r.addMarginB&&(r.jqTarget.css("paddingBottom",r.orgMarginB),r.jqTarget.css("height",r.orgHeight))),r.jqTarget.off("focusin",r.avoidFocus),r.jqActive&&r.jqActive.length&&r.jqActive.focus(),function(t){t.off("scroll",r.avoidScroll),t.scrollLeft(r.scrLeft).scrollTop(r.scrTop)}(r.isBody?r.jqWin:r.jqTarget),r.jqWin.off("resize",r.callAdjust),r.isShown=!1)},t.fn.plainOverlay=function(t,r){return"show"===t?o(this,r):"hide"===t?s(this):i(this,t)}}(jQuery);